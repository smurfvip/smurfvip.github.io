(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02322a51"],{"0309":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid"},[n("grid",{staticClass:"grid-group",attrs:{border:!1,gutter:1,"column-num":2}},t._l(t.grid,(function(e,i){return n("grid-item",{key:i,staticClass:"content-item"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.img,expression:"item.img"}],class:e.class?e.class:""}),n("span",[t._v(t._s(e.title))]),e.amount?n("span",[t._v(t._s(e.amount))]):n("router-link",{attrs:{to:e.path}},[t._v(t._s(e.text))])],1)})),1)],1)},a=[],r=(n("68ef"),n("9d70"),n("09fe"),n("3743"),n("e15d"),n("c31d")),c=n("d282"),o=n("ea8e"),s=n("b1d2"),d=n("9884"),u=n("48f4"),l=n("6f2f"),h=n("ad06"),m=Object(c["a"])("grid-item"),f=m[0],g=m[1],p=f({mixins:[Object(d["a"])("vanGrid")],props:Object(r["a"])({},u["c"],{dot:Boolean,text:String,icon:String,info:[Number,String]}),computed:{style:function(){var t=this.parent,e=t.square,n=t.gutter,i=t.columnNum,a=100/i+"%",r={flexBasis:a};if(e)r.paddingTop=a;else if(n){var c=Object(o["a"])(n);r.paddingRight=c,this.index>=i&&(r.marginTop=c)}return r},contentStyle:function(){var t=this.parent,e=t.square,n=t.gutter;if(e&&n){var i=Object(o["a"])(n);return{right:i,bottom:i,height:"auto"}}}},methods:{onClick:function(t){this.$emit("click",t),Object(u["b"])(this.$router,this)},genIcon:function(){var t=this.$createElement,e=this.slots("icon");return e?t("div",{class:g("icon-wrapper")},[e,t(l["a"],{attrs:{dot:this.dot,info:this.info}})]):this.icon?t(h["a"],{attrs:{name:this.icon,dot:this.dot,info:this.info,size:this.parent.iconSize},class:g("icon")}):void 0},genContent:function(){var t=this.$createElement,e=this.slots();return e||[this.genIcon(),this.slots("text")||this.text&&t("span",{class:g("text")},[this.text])]}},render:function(){var t,e=arguments[0],n=this.parent,i=n.center,a=n.border,r=n.square,c=n.gutter,o=n.clickable;return e("div",{class:[g({square:r})],style:this.style},[e("div",{style:this.contentStyle,attrs:{role:o?"button":null,tabindex:o?0:null},class:[g("content",{center:i,square:r,clickable:o,surround:a&&c}),(t={},t[s["a"]]=a,t)],on:{click:this.onClick}},[this.genContent()])])}}),v=(n("75ad"),Object(c["a"])("grid")),b=v[0],$=v[1],x=b({mixins:[Object(d["b"])("vanGrid")],props:{square:Boolean,gutter:[Number,String],iconSize:[Number,String],clickable:Boolean,columnNum:{type:Number,default:4},center:{type:Boolean,default:!0},border:{type:Boolean,default:!0}},computed:{style:function(){var t=this.gutter;if(t)return{paddingLeft:Object(o["a"])(t)}}},render:function(){var t,e=arguments[0];return e("div",{style:this.style,class:[$(),(t={},t[s["d"]]=this.border&&!this.gutter,t)]},[this.slots()])}}),w={components:{Grid:x,GridItem:p},props:{grid:Array}},y=w,_=(n("7f0c"),n("69e4"),n("2877")),C=Object(_["a"])(y,i,a,!1,null,"797df40d",null);e["a"]=C.exports},1120:function(t,e,n){},"27e3":function(t,e,n){"use strict";var i=n("3ca7"),a=n.n(i);a.a},3699:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box"},[i("div",{staticClass:"header"},[i("div",[i("div",[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n("8699"),expression:"require('@/assets/income_logo.png')"}]}),i("span",[t._v(t._s(t.canWithdraw))])]),i("span",[t._v(t._s(t.$t("message.currentCanDraw"))+"/ETH")])]),i("router-link",{attrs:{to:"/record?type=收益记录"}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n("0b8a"),expression:"require('@/assets/income_record.png')"}]}),i("span",[t._v(t._s(t.$t("message.incomeRecord")))])])],1),i("self-grid",{attrs:{grid:t.grid}}),i("div",{staticClass:"btn"},[i("Button",{attrs:{disabled:t.canWithdraw<=0,color:"linear-gradient(#814ABC, #4C44D8)"},on:{click:t.draw}},[t._v(t._s(t.$t("message.draw")))]),i("span",[t._v(t._s(t.$t("message.gasPrice"))+"："+t._s(t.gasPrice)+" SFC")])],1)],1)},a=[],r=(n("a9e3"),n("b680"),n("e7e5"),n("d399")),c=(n("66b9"),n("b650")),o=n("0309"),s={components:{Button:c["a"],SelfGrid:o["a"]},data:function(){return{canWithdraw:"0.00",grid:[{img:n("38ee"),title:this.$t("message.dividendIncome"),amount:"0.00ETH"},{img:n("7285"),title:this.$t("message.promoteIncome"),amount:"0.00ETH"},{img:n("fe8a"),title:this.$t("message.outQuota"),amount:"0.00ETH"},{img:n("7c45"),title:this.$t("message.totalIncome"),amount:"0.00ETH"}],gasPrice:0,sfcBalance:0}},methods:{init:function(){this.$cache.income?(this.canWithdraw=this.$cache.income.canWithdraw,this.grid[0].amount=this.$cache.income.dividendIncome,this.grid[1].amount=this.$cache.income.promoteIncome,this.grid[2].amount=this.$cache.income.outAmount,this.grid[3].amount=this.$cache.income.totalIncome,this.gasPrice=this.$cache.income.gasPrice,this.sfcBalance=this.$cache.income.sfcBalance):this.$cache.income={},this.getData()},getData:function(){var t=this;this.$contract.round.methods.GetCurrentGameStatus().call({from:this.$address},(function(e,n){if(!e){var i=t.$fromWei(n.currentEther)*Number(n.profixMultiplier)-t.$fromWei(n.withdrawableTotal);t.$contract.round.methods.CurrentCanWithdrawProfix(t.$address).call((function(e,n){if(!e){var a=t.$fromWei(n.st),r=t.$fromWei(n.dy),c=a+r;t.$contract.cost.methods.WithdrawCost(t.$toWei("".concat(c))).call((function(e,n){e||(t.gasPrice=t.$fromWei(n),t.$cache.income.gasPrice=t.gasPrice)})),t.canWithdraw=c>i?i.toFixed(2):c.toFixed(2),t.grid[0].amount="".concat(a.toFixed(2),"ETH"),t.grid[1].amount="".concat(r.toFixed(2),"ETH"),t.$cache.income.canWithdraw=t.canWithdraw,t.$cache.income.dividendIncome=t.grid[0].amount,t.$cache.income.promoteIncome=t.grid[1].amount}})),t.grid[2].amount="".concat(i.toFixed(2),"ETH"),t.$cache.income.outAmount=t.grid[2].amount}})),this.$contract.round.methods.TotalInOutAmount().call({from:this.$address},(function(e,n){e||(t.grid[3].amount="".concat(t.$fromWei(n.outEther,2),"ETH"),t.$cache.income.totalIncome=t.grid[3].amount)})),this.$contract.erc20token.methods.balanceOf(this.$address).call((function(e,n){e||(t.sfcBalance=t.$fromWei(n),t.$cache.income.sfcBalance=t.sfcBalance)}))},draw:function(){var t=this;if(this.sfcBalance<this.gasPrice)return r["a"].fail(this.$t("message.notSFC"));this.$contract.round.methods.WithdrawProfix().send({from:this.$address}).on("transactionHash",(function(t){console.log(t)})).on("error",console.error).on("receipt",(function(e){t.getData()}))}},mounted:function(){this.init()}},d=s,u=(n("27e3"),n("2877")),l=Object(u["a"])(d,i,a,!1,null,"5b15c7ec",null);e["default"]=l.exports},"3ca7":function(t,e,n){},"66b9":function(t,e,n){"use strict";n("68ef"),n("9d70"),n("09fe"),n("3743"),n("e3b3"),n("bc1b")},"69e4":function(t,e,n){"use strict";var i=n("1120"),a=n.n(i);a.a},"75ad":function(t,e,n){},"7f0c":function(t,e,n){"use strict";var i=n("c387"),a=n.n(i);a.a},9884:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c}));var i=n("2b0e");function a(t){var e=[];function n(t){t.forEach((function(t){e.push(t),t.children&&n(t.children)}))}return n(t),e}function r(t,e){var n,r;void 0===e&&(e={});var c=e.indexKey||"index";return i["a"].extend({inject:(n={},n[t]={default:null},n),computed:(r={parent:function(){return this.disableBindRelation?null:this[t]}},r[c]=function(){return this.bindRelation(),this.parent.children.indexOf(this)},r),mounted:function(){this.bindRelation()},beforeDestroy:function(){var t=this;this.parent&&(this.parent.children=this.parent.children.filter((function(e){return e!==t})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var t=[].concat(this.parent.children,[this]),e=a(this.parent.slots());t.sort((function(t,n){return e.indexOf(t.$vnode)-e.indexOf(n.$vnode)})),this.parent.children=t}}}})}function c(t){return{provide:function(){var e;return e={},e[t]=this,e},data:function(){return{children:[]}}}}},c387:function(t,e,n){},e15d:function(t,e,n){}}]);